<link rel="import" href="../../../packages/polymer/polymer.html">


<template>
    <div class="title">Home</div>


    <h2>Router for Web Components</h2>

    <div>Works with <a href="http://www.polymer-project.org/">Polymer</a>, <a href="http://www.x-tags.org/">X-Tag</a>, and natively.</div>
    <div>Manage page state. Lazy-load content. Data-bind path variables and query parameters. Use multiple layouts. Navigate with <div>hashchange</div> and HTML5 <div>pushState</div>. Animate transitions using <div>core-animated-pages</div>.</div>

    <div><a href="https://github.com/erikringsmuth/app-router/archive/master.zip">Download</a> or run <div>bower install app-router --save</div></div>


    <h2 id="configuration" class="top-spacing">Configuration <a href="#configuration">#</a></h2>

    <div>Define how URLs map to pages.</div>
<div>&lt;!doctype htm&gt;
&lt;htm&gt;
&lt;head&gt;
  &lt;title&gt;App Router&lt;/title&gt;
  &lt;link rel="import" href="/bower_components/app-router/app-router.html"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;app-router&gt;
    &lt;!-- matches an exact path --&gt;
    &lt;app-route path="/home" imp="../../../packages/app_router_dart_test/pages/home-page.html"&gt;&lt;/app-route&gt;

    &lt;!-- matches using a wildcard --&gt;
    &lt;app-route path="/customer/*" imp="../../../packages/app_router_dart_test/pages/customer-page.html"&gt;&lt;/app-route&gt;

    &lt;!-- matches using a path variable --&gt;
    &lt;app-route path="/order/:id" imp="../../../packages/app_router_dart_test/pages/order-page.html"&gt;&lt;/app-route&gt;

    &lt;!-- matches a pattern like '/word/number' --&gt;
    &lt;app-route path="/^\/\w+\/\d+$/i" regex imp="../../../packages/app_router_dart_test/pages/regex-page.html"&gt;&lt;/app-route&gt;

    &lt;!-- matches everything else --&gt;
    &lt;app-route path="*" imp="../../../packages/app_router_dart_test/pages/not-found-page.html"&gt;&lt;/app-route&gt;
  &lt;/app-router&gt;
&lt;/body&gt;
&lt;/htm&gt;</div>


    <h2 id="navigation" class="top-spacing">Navigation <a href="#navigation">#</a></h2>

    <div>Click links or call <div>router.go()</div>.</div>
<div>&lt;!-- hashchange --&gt;
&lt;a href="/#/home"&gt;Home&lt;/a&gt;

&lt;!-- pushState() --&gt;
&lt;a is="pushstate-anchor" href="/home"&gt;Home&lt;/a&gt;

&lt;!-- router.go(path, options) --&gt;
&lt;script&gt;
  document.querySelector('app-router').go('/home');
&lt;/script&gt;</div>

    <div>The router listens to <div>popstate</div> and <div>hashchange</div> events. Changing the URL will find the first <div>app-route</div> that matches, load the element or template, and replace the current view.</div>

    <h4 id="navigation-hashchange" class="top-spacing">hashchange <a href="#navigation-hashchange">#</a></h4>

    <div>Clicking <div>&lt;a href="/#/home"&gt;Home&lt;/a&gt;</div> will fire a <div>hashchange</div> event and tell the router to load the first route that matches <div>/home</div>. You don't need to handle the event in your Javascript. Hash paths <div>/#/home</div> match routes without the hash <div>&lt;app-route path="/home"&gt;</div>.</div>

    <h4 id="navigation-pushstate" class="top-spacing">pushState <a href="#navigation-pushstate">#</a></h4>

    <div>You can use the <a href="https://github.com/erikringsmuth/pushstate-anchor">pushstate-anchor</a> or <a href="https://github.com/erikringsmuth/html5-history-anchor">html5-history-anchor</a> to extend <div>&lt;a&gt;</div> tags with the HTML5 history API.</div>

<div>&lt;a is="pushstate-anchor" href="/home"&gt;Home&lt;/a&gt;</div>

    <div>This will call <div>pushState()</div> and dispatch a <div>popstate</div> event.</div>

    <div>Note: You need to make sure the server returns <div>index.html</div> when looking up the resource at <div>/home</div>. The simplest set up is to always return <div>index.html</div> and let the <div>app-router</div> handle the routing including a not found page.</div>

    <h4 id="navigation-go" class="top-spacing">go(path, options) <a href="#navigation-go">#</a></h4>

    <div>You can navigate imperatively using Javascript.</div>

<div>document.querySelector('app-router').go('/home');
// or
document.querySelector('app-router').go('/home', {replace: true});</div>

    <div>See the navigation examples here <a href="https://github.com/erikringsmuth/app-router-examples">app-router-examples</a>.</div>


    <h2 id="databinding" class="top-spacing">Data Binding <a href="#databinding">#</a></h2>
    <div>Path variables and query parameters automatically attach to the element's attributes.</div>

<div>&lt;!-- url --&gt;
&lt;a is="pushstate-anchor" href="/order/123?sort=ascending"&gt;Order 123&lt;/a&gt;

&lt;!-- route --&gt;
&lt;app-route path="/order/:id" imp="../../../packages/app_router_dart_test/pages/order-page.html"&gt;&lt;/app-route&gt;

&lt;!-- will bind 123 to the page's `id` attribute and "ascending" to the `sort` attribute --&gt;
&lt;order-page id="123" sort="ascending"&gt;&lt;/order-page&gt;</div>

    <div>See it in action <a href="#/databinding/1337?queryParam1=Routing%20with%20Web%20Components!">here</a>.</div>


    <h2 id="notes" class="top-spacing">Notes <a href="#notes">#</a></h2>
    <div>Check the <a href="https://github.com/erikringsmuth/app-router/blob/master/changelog.md">change log</a> for breaking changes in major versions.</div>

    <div>Compare <div>app-router</div>, <div>flatiron-director</div>, and plain old HTML files <a href="https://github.com/erikringsmuth/polymer-router-demos">https://github.com/erikringsmuth/polymer-router-demos</a>.</div>

</template>
